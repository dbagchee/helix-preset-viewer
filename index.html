<!DOCTYPE html>
<html>

<head>
    <title>Helix Preset Viewer</title>
    <meta name="description" content="A web-based viewer for Helix, Helix Rack, Helix LT, and HX Stomp presets.">
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-640359-4"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-640359-4');
    </script>
    
    <!-- development version, includes helpful console warnings -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" crossorigin="anonymous">
    <style>
        body {
            color: #ccc;
            background-color: #000;
            font-family: Helvetica, Arial, sans-serif;
        }
        
        a:link {
            color: #ccc;
        }
        
        a:visited {
            color: #ccc;
        }
        
        a:hover {
            color: #fff;
        }
        
        a:active {
            color: #fff;
        }
        
        li {
            margin-bottom: 5px;
        }
        
        .container {
            width: 80%;
            margin: 0 auto;
        }
        
        .header {
            width: 80%;
            margin: 50px auto;
        }
        
        .footer {
            font-size: 14px;
            text-align: center;
            margin: 50px auto;
        }

        .path {
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            margin-bottom: 50px;
            min-height: 70px;
        }
        
        .path::before {
            content: " ";
            width: 100%;
            position: absolute;
            height: 1px;
            background-color: #ccc;
            top: 40%;
        }

        .block {
            display: flex;
            justify-content: center;
            flex-direction: column;
            align-items: center;
            text-align: center;
            margin: 0 20px;
            background-color: #000;
            z-index: 5;
        }

        .block__icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px;
            margin: 0 auto 5px auto;
            border: 1px solid #666;
            border-radius: 6px;
            font-size: 24px;
        }

        .block__name {
            font-size: 12px;
        }
        
        .block--is-active .block__icon {
            border-color: #fff;
        }

        .block--amp,
        .block--preamp,
        .block--amp-cab,
        .block--cab {
            color: darkred;
        }
        
        .block--ir {
            color: hotpink;
        }

        .block--dist {
            color: orange;
        }

        .block--comp,
        .block--eq {
            color: yellow;
        }

        .block--delay {
            color: forestgreen;
        }
        
        .block--mod {
            color: royalblue;
        }
        
        .block--reverb {
            color: orangered;
        }
        
        .block--filter,
        .block--pitch,
        .block--wah {
            color: purple;
        }
        
        .block--vol-pan,
        .block--send-return {
            color: deepskyblue;
        }
        
        .block--looper {
            color: #ccc;
        }
        
        .parameters {
            font-size: 16px;
            background-color: #111;
            margin: 0 auto;
        }
        
        .parameters th {
            padding: 15px;
            text-align: left;
            background-color: #222;
        }
        
        .parameters td {
            padding: 8px 15px;
            text-align: left;
            background-color: #333;
        }

    </style>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    
</head>

<body>

    <div id="app">
        <div class="container">
            <div class="header">
                <h1>Helix Preset Viewer</h1>
                <p>You can use this tool to view Helix preset details without having your hardware connected.</p>
                <ul>
                    <li>Select "Choose File" to browse your computer and load a .hlx file.</li>
                    <li>Click on the effects block to view its settings.</li>
                </ul>
                <input type="file" @change="onFileChange">
                <p>Note: This is very much a work in progress. Currently this tool has the following limitations:</p>
                <ul>
                    <li>Doesn't render correct signal flow or block order.</li>
                    <li>Some missing model data (mostly amps and cabs at this point) - you will see an asterisk (*) next to items that are not mapped at the moment (though you can still view the blocks parameters and probably figure out which one it is in the meantime).</li>
                    <li>Some of the parameter data is a little raw (true/false instead of on/off, number formatting, etc).</li>
                    <li>Could be other bugs!</li>
                </ul>
            </div>
            <div v-if="preset.data.meta.name === 'No Preset Loaded'" class="preset preset--default">
                <div class="path">
                    <block type="dist"></block>
                    <block type="comp"></block>
                    <block type="eq"></block>
                    <block type="mod"></block>
                    <block type="delay"></block>
                    <block type="reverb"></block>
                    <block type="pitch"></block>
                    <block type="filter"></block>
                </div>
                <div class="path">
                    <block type="wah"></block>
                    <block type="amp-cab"></block>
                    <block type="amp"></block>
                    <block type="preamp"></block>
                    <block type="cab"></block>
                    <block type="ir"></block>
                    <block type="vol-pan"></block>
                    <block type="send-return"></block>
                    <block type="looper"></block>
                </div>
            </div>
            
            <h2>Preset Name: {{ preset.data.meta.name }}</h2>
            
            <div class="path">
                <block     
                    v-for="(value, key) in preset.data.tone.dsp0" 
                    v-if="key.startsWith('block') && value['@path'] === 0" 
                    v-bind:type="value['@model'] | getModel('type')" v-bind:id="value">
                </block>
            </div>
            <div class="path">
                <block     
                    v-for="(value, key) in preset.data.tone.dsp0" 
                    v-if="key.startsWith('block') && value['@path'] === 1" 
                    v-bind:type="value['@model'] | getModel('type')" v-bind:id="value">
                </block>
            </div>
            <div class="path">
                <block     
                    v-for="(value, key) in preset.data.tone.dsp1" 
                    v-if="key.startsWith('block') && value['@path'] === 0" 
                    v-bind:type="value['@model'] | getModel('type')" v-bind:id="value">
                </block>
            </div>
            <div class="path">  
                <block     
                    v-for="(value, key) in preset.data.tone.dsp1" 
                    v-if="key.startsWith('block') && value['@path'] === 1" 
                    v-bind:type="value['@model'] | getModel('type')" v-bind:id="value">
                </block>
            </div>
            
            <parameters v-bind:block="currentBlock"></parameters>
            
            <div class="footer">
                <p>Created by <a href="https://www.youtube.com/user/dbagchee">Dipendra Bagchee</a> | Icons by <a href="https://fontawesome.com/">Font Awesome</a></p>
            </div>
        </div>
        
        <template v-if="ok" id="parameters">
            <table class="parameters">
                <tr v-for="(value,key) in block" v-if="key === '@model'">
                    <th>{{ key | getLabel }}</th><th> {{ value | getModel('name') }}</th>
                </tr>
                <tr v-for="(value,key) in block" v-if="key !== '@model' && key !== '@path' && key !== 'Voice' && key !== '@type' && key !== '@bypassvolume' && key !== '@cab' && key !== '@enabled' && key !== 'SSwitch'">
                    <td>{{ key | getLabel }}</td><td> {{ value }} </td>
                </tr>    
            </table>
        </template>
        
        <template v-if="ok" id="block">
            <div v-bind:class="{ 'block--is-active': isActive === 1 }" v-on:click="displayParameters(id)" v-if="type === 'delay'" class="block block--delay">
                <div class="block__icon">
                    <icon-delay></icon-delay>
                </div>
                <div class="block__name">Delay</div>
            </div>
            <div v-bind:class="{ 'block--is-active': isActive === 1 }" v-on:click="displayParameters(id)" v-else-if="type === 'dist'" class="block block--dist">
                <div class="block__icon">
                    <icon-dist></icon-dist>
                </div>
                <div class="block__name">Dist</div>
            </div>
            <div v-bind:class="{ 'block--is-active': isActive === 1 }" v-on:click="displayParameters(id)" v-else-if="type === 'eq'" class="block block--eq">
                <div class="block__icon">
                    <icon-eq></icon-eq>
                </div>
                <div class="block__name">EQ</div>
            </div>
            <div v-bind:class="{ 'block--is-active': isActive === 1 }" v-on:click="displayParameters(id)" v-else-if="type === 'amp'" class="block block--amp">
                <div class="block__icon">
                    <icon-amp></icon-amp>
                </div>
                <div class="block__name">Amp</div>
            </div>
            <div v-bind:class="{ 'block--is-active': isActive === 1 }" v-on:click="displayParameters(id)" v-else-if="type === 'preamp'" class="block block--preamp">
                <div class="block__icon">
                    <icon-preamp></icon-preamp>
                </div>
                <div class="block__name">Pre</div>
            </div>
            <div v-bind:class="{ 'block--is-active': isActive === 1 }" v-on:click="displayParameters(id)" v-else-if="type === 'amp-cab'" class="block block--preamp">
                <div class="block__icon">
                    <icon-amp-cab></icon-amp-cab>
                </div>
                <div class="block__name">Amp+Cab</div>
            </div>
            <div v-bind:class="{ 'block--is-active': isActive === 1 }" v-on:click="displayParameters(id)" v-else-if="type === 'cab'" class="block block--preamp">
                <div class="block__icon">
                    <icon-cab></icon-cab>
                </div>
                <div class="block__name">Cab</div>
            </div>
            <div v-bind:class="{ 'block--is-active': isActive === 1 }" v-on:click="displayParameters(id)" v-else-if="type === 'ir'" class="block block--ir">
                <div class="block__icon">
                    <icon-ir></icon-ir>
                </div>
                <div class="block__name">IR</div>
            </div>
            <div v-bind:class="{ 'block--is-active': isActive === 1 }" v-on:click="displayParameters(id)" v-else-if="type === 'wah'" class="block block--wah">
                <div class="block__icon">
                    <icon-wah></icon-wah>
                </div>
                <div class="block__name">Wah</div>
            </div>
            <div v-bind:class="{ 'block--is-active': isActive === 1 }" v-on:click="displayParameters(id)" v-else-if="type === 'pitch'" class="block block--pitch">
                <div class="block__icon">
                    <icon-pitch></icon-pitch>
                </div>
                <div class="block__name">Pitch</div>
            </div>
            <div v-bind:class="{ 'block--is-active': isActive === 1 }" v-on:click="displayParameters(id)" v-else-if="type === 'filter'" class="block block--filter">
                <div class="block__icon">
                    <icon-filter></icon-filter>
                </div>
                <div class="block__name">Filter</div>
            </div>
            <div v-bind:class="{ 'block--is-active': isActive === 1 }" v-on:click="displayParameters(id)" v-else-if="type === 'comp'" class="block block--comp">
                <div class="block__icon">
                    <icon-comp></icon-comp>
                </div>
                <div class="block__name">Dyn</div>
            </div>
            <div v-bind:class="{ 'block--is-active': isActive === 1 }" v-on:click="displayParameters(id)" v-else-if="type === 'mod'" class="block block--mod">
                <div class="block__icon">
                    <icon-mod></icon-mod>
                </div>
                <div class="block__name">Mod</div>
            </div>
            <div v-bind:class="{ 'block--is-active': isActive === 1 }" v-on:click="displayParameters(id)" v-else-if="type === 'reverb'" class="block block--reverb">
                <div class="block__icon">
                    <icon-reverb></icon-reverb>
                </div>
                <div class="block__name">Verb</div>
            </div>
            <div v-bind:class="{ 'block--is-active': isActive === 1 }" v-on:click="displayParameters(id)" v-else-if="type === 'vol-pan'" class="block block--vol-pan">
                <div class="block__icon">
                    <icon-vol-pan></icon-vol-pan>
                </div>
                <div class="block__name">Vol/Pan</div>
            </div>
            <div v-bind:class="{ 'block--is-active': isActive === 1 }" v-on:click="displayParameters(id)" v-else-if="type === 'send-return'" class="block block--send-return">
                <div class="block__icon">
                    <icon-send-return></icon-send-return>
                </div>
                <div class="block__name">Send/Return</div>
            </div>
            <div v-bind:class="{ 'block--is-active': isActive === 1 }" v-on:click="displayParameters(id)" v-else-if="type === 'looper'" class="block block--looper">
                <div class="block__icon">
                    <icon-looper></icon-looper>
                </div>
                <div class="block__name">Looper</div>
            </div>
            <div v-bind:class="{ 'block--is-active': isActive === 1 }" v-on:click="displayParameters(id)" v-else class="block">
                <div class="block__icon">
                    
                </div>
                <div class="block__name">None{{ type }}</div>
            </div>
        </template> 
    </div>

    <script>
        var hxPreset = {
            "data": {
                "device": 2162694,
                "device_version": 40894464,
                "meta": {
                    "application": "HX Edit",
                    "appversion": 40894464,
                    "build_sha": "5dc01f9",
                    "modifieddate": 1539979165,
                    "name": "No Preset Loaded"
                },
                "tone": {
                    "dsp0": {
                        
                        "cab0": {
                            "@enabled": true,
                            "@mic": 0,
                            "@model": "HD2_Cab4X12CaliV30",
                            "Distance": 1.0,
                            "EarlyReflections": 0.0,
                            "HighCut": 20100.0,
                            "Level": 0.0,
                            "LowCut": 19.90
                        },
                        "inputA": {
                            "@input": 1,
                            "@model": "HelixStomp_AppDSPFlowInput",
                            "decay": 0.50,
                            "noiseGate": true,
                            "threshold": -48.0
                        },
                        "inputB": {
                            "@input": 0,
                            "@model": "HelixStomp_AppDSPFlowInput",
                            "decay": 0.50,
                            "noiseGate": false,
                            "threshold": -48.0
                        },
                        "join": {
                            "@enabled": true,
                            "@model": "HD2_AppDSPFlowJoin",
                            "@position": 6,
                            "A Level": 0.0,
                            "A Pan": 0.50,
                            "B Level": 0.0,
                            "B Pan": 0.50,
                            "B Polarity": false,
                            "Level": 0.0
                        },
                        "outputA": {
                            "@model": "HelixStomp_AppDSPFlowOutputMain",
                            "@output": 1,
                            "gain": 0.0,
                            "pan": 0.50
                        },
                        "outputB": {
                            "@model": "HelixStomp_AppDSPFlowOutputSend",
                            "@output": 0,
                            "Type": true,
                            "gain": 0.0,
                            "pan": 0.50
                        },
                        "split": {
                            "@enabled": true,
                            "@model": "HD2_AppDSPFlowSplitY",
                            "@position": 0,
                            "BalanceA": 0.50,
                            "BalanceB": 0.50,
                            "bypass": false
                        }
                    },
                    "dsp1": {},
                    "footswitch": {
                        "dsp0": {
                            "block2": {
                                "@fs_enabled": false,
                                "@fs_index": 2,
                                "@fs_label": "Simple Delay",
                                "@fs_ledcolor": 67840,
                                "@fs_momentary": false,
                                "@fs_primary": true
                            }
                        }
                    },
                    "global": {
                        "@current_snapshot": 0,
                        "@cursor_dsp": 0,
                        "@cursor_group": "block1",
                        "@cursor_path": 0,
                        "@cursor_position": 2,
                        "@guitarinputZ": 0,
                        "@model": "@global_params",
                        "@pedalstate": 2,
                        "@tempo": 120.0,
                        "@topology0": "A",
                        "@topology1": 0,
                        "@variax_customtuning": true,
                        "@variax_lockctrls": 0,
                        "@variax_magmode": false,
                        "@variax_model": 0,
                        "@variax_str1tuning": 0,
                        "@variax_str2tuning": 0,
                        "@variax_str3tuning": 0,
                        "@variax_str4tuning": 0,
                        "@variax_str5tuning": 0,
                        "@variax_str6tuning": 0,
                        "@variax_toneknob": -0.10,
                        "@variax_volumeknob": -0.10
                    },
                    "snapshot0": {
                        "@ledcolor": 0,
                        "@name": "SNAPSHOT 1",
                        "@pedalstate": 0,
                        "@tempo": 120.0,
                        "@valid": true,
                        "blocks": {
                            "dsp0": {
                                "block0": true,
                                "block1": true,
                                "block2": false,
                                "block3": true,
                                "split": true
                            }
                        }
                    },
                    "snapshot1": {
                        "@ledcolor": 0,
                        "@name": "SNAPSHOT 2",
                        "@pedalstate": 0,
                        "@tempo": 120.0,
                        "@valid": false,
                        "blocks": {
                            "dsp0": {
                                "block0": true,
                                "block1": true,
                                "block2": true,
                                "block3": true,
                                "split": true
                            }
                        }
                    },
                    "snapshot2": {
                        "@ledcolor": 0,
                        "@name": "SNAPSHOT 3",
                        "@pedalstate": 0,
                        "@tempo": 120.0,
                        "@valid": false,
                        "blocks": {
                            "dsp0": {
                                "block0": true,
                                "block1": true,
                                "block2": true,
                                "block3": true,
                                "split": true
                            }
                        }
                    }
                }
            },
            "meta": {
                "original": 0,
                "pbn": 0,
                "premium": 0
            },
            "schema": "L6Preset",
            "version": 6
        };    
        
        var hxModels = {
            // TODO: Add all models and type mappings
            
            /* Distortion */
            
            "HD2_DistKinkyBoost": {
                "type": "dist",
                "name": "Kinky Boost"
            },
            "HD2_DistDerangedMaster": {
                "type": "dist",
                "name": "Deranged Master"
            },
            "HD2_DistMinotaur": {
                "type": "dist",
                "name": "Minotaur"
            },
            "HD2_DistTeemah": {
                "type": "dist",
                "name": "Teemah!"
            },
            "HD2_DistCompulsiveDrive": {
                "type": "dist",
                "name": "Compulsive Drive"
            },
            "HD2_DistValveDriver": {
                "type": "dist",
                "name": "Valve Driver"
            },
            "HD2_DistTopSecretOD": {
                "type": "dist",
                "name": "Top Secret OD"
            },
            "HD2_DistScream808": {
                "type": "dist",
                "name": "Scream 808"
            },
            "HD2_DistHedgehogD9": {
                "type": "dist",
                "name": "Hedgehog D9"
            },
            "HD2_DistStuporOD": {
                "type": "dist",
                "name": "Stupor OD"
            },
            "HD2_DistDeezOneVintage": {
                "type": "dist",
                "name": "Deez One Vintage"
            },   
            "HD2_DistDeezOneMod": {
                "type": "dist",
                "name": "Deez One Mod"
            },
            "HD2_DistVerminDist": {
                "type": "dist",
                "name": "Vermin Dist"
            },
            "HD2_DistKWB": {
                "type": "dist",
                "name": "KWB"
            },
            "HD2_DistArbitratorFuzz": {
                "type": "dist",
                "name": "Arbitrator Fuzz"
            },
            "HD2_DistTriangleFuzz": {
                "type": "dist",
                "name": "Triangle Fuzz"
            },
            "HD2_DistIndustrialFuzz": {
                "type": "dist",
                "name": "Industrial Fuzz"
            },
            "HD2_DistTycoctaviaFuzz": {
                "type": "dist",
                "name": "Tycoctavia Fuzz"
            },
           "HD2_DistWringerFuzz": {
                "type": "dist",
                "name": "Wringer Fuzz"
            },
           "HD2_DistThrifterFuzz": {
                "type": "dist",
                "name": "ThrifterFuzz"
            },
            "HD2_DistMegaphone": {
                "type": "dist",
                "name": "Megaphone"
            },
            "HD2_DistBitcrusher": {
                "type": "dist",
                "name": "Bitcrusher"
            },
            "HD2_DistObsidian7000": {
                "type": "dist",
                "name": "Obsidian 7000"
            },
            "HD2_DistClawthornDrive": {
                "type": "dist",
                "name": "Clawthorn Drive"
            },
            "HD2_DM4TubeDrive": {
                "type": "dist",
                "name": "Tube Drive"
            },
            "HD2_DM4Screamer": {
                "type": "dist",
                "name": "Screamer"
            },
            "HD2_DM4Overdrive": {
                "type": "dist",
                "name": "Overdrive"
            },
            "HD2_DM4ClassicDistortion": {
                "type": "dist",
                "name": "Classic Dist"
            },
            "HD2_DM4HeavyDistortion": {
                "type": "dist",
                "name": "Heavy Dist"
            },
            "HD2_DM4ColorDrive": {
                "type": "dist",
                "name": "Colordrive"
            },
            "HD2_DM4BuzzSaw": {
                "type": "dist",
                "name": "Buzz Saw"
            },
            "HD2_DM4FacialFuzz": {
                "type": "dist",
                "name": "Facial Fuzz"
            },
            "HD2_DM4JumboFuzz": {
                "type": "dist",
                "name": "Jumbo Fuzz"
            },
            "HD2_DM4FuzzPi": {
                "type": "dist",
                "name": "Fuzz Pi"
            },
            "HD2_DM4JetFuzz": {
                "type": "dist",
                "name": "Jet Fuzz"
            },
            "HD2_DM4Line6Drive": {
                "type": "dist",
                "name": "L6 Drive"
            },
            "HD2_DM4Line6Distortion": {
                "type": "dist",
                "name": "L6 Distortion"
            },
            "HD2_DM4SubOctFuzz": {
                "type": "dist",
                "name": "Sub Oct Fuzz"
            },
            "HD2_DM4OctaveFuzz": {
                "type": "dist",
                "name": "Octave Fuzz"
            },
            
            /* EQ */
            
            "HD2_EQSimple3Band": {
                "type": "eq",
                "name": "Simple EQ"
            },
            "HD2_EQLowCutHighCut": {
                "type": "eq",
                "name": "Low and High Cut"
            },
            "HD2_EQParametric": {
                "type": "eq",
                "name": "Parametric"
            },
            "HD2_EQGraphic10Band": {
                "type": "eq",
                "name": "10 Band Graphic"
            },
            "HD2_CaliQ": {
                "type": "eq",
                "name": "Cali Q Graphic"
            },
            
            /* Amps */
            
            "HD2_AmpPlacaterDirty": {
                "type":"amp",
                "name":"Placater Dirty"
            },
            "HD2_AmpMatchstickCh1": {
                "type":"amp",
                "name":"Matchstick Ch1"
            },
            "HD2_AmpPVPanama": {
                "type":"amp",
                "name":"PV Panama"
            },
            
            /* Delays */
            
            "HD2_DelaySimpleDelay": {
                "type": "delay", 
                "name": "Simple Delay" 
            },
            "HD2_DelayModChorusEcho": { 
                "type": "delay", 
                "name": "Mod/Cho Echo" 
            },
            "HD2_DelayDualDelay": { 
                "type": "delay", 
                "name": "Dual Delay" 
            },
            "HD2_DelayMultitap4": { 
                "type": "delay", 
                "name": "Multitap 4" 
            },
            "HD2_DelayMultitap6": { 
                "type": "delay", 
                "name": "Multitap 6" 
            },
            "HD2_DelayPingPong": { 
                "type": "delay", 
                "name": "Ping Pong" 
            },
            "HD2_DelaySweepEcho": { 
                "type": "delay", 
                "name": "Sweep Echo" 
            },
            "HD2_DelayDuckedDelay": { 
                "type": "delay", 
                "name": "Ducked Delay" 
            },
            "HD2_DelayReverseDelay": { 
                "type": "delay", 
                "name": "Reverse Delay" 
            },
            "HD2_DelayVintageDigitalV2": { 
                "type": "delay", 
                "name": "Vintage Digital" 
            },
            "HD2_DelaySwellVintageDigital": { 
                "type": "delay", 
                "name": "Vintage Swell"
            },
            "HD2_DelayPitch": { 
                "type": "delay", 
                "name": "Pitch Echo" 
            },
            "HD2_DelayTransistorTape": {
                "type": "delay", 
                "name": "Transistor Tape"
            },
            "HD2_DelayCosmosEcho": { 
                "type": "delay",
                "name": "Cosmos Echo" 
            },
            "HD2_DelayHarmonyDelay": { 
                "type": "delay", 
                "name": "Harmony Delay" 
            },
            "HD2_DelayBucketBrigade": { 
                "type": "delay", 
                "name": "Bucket Brigade" 
            },
            "HD2_DelayAdriaticDelay": { 
                "type": "delay", 
                "name": "Adriatic Delay" 
            },
            "HD2_DelaySwellAdriatic": { 
                "type": "delay",
                "name": "Adriatic Swell"
            },
            "HD2_DelayElephantMan": { 
                "type": "delay", 
                "name": "Elephant Man" 
            },
            "HD2_DelayMultiPass": { 
                "type": "delay", 
                "name": "Multi Pass"
            },
            "HD2_DL4PingPong": { 
                "type": "delay", 
                "name": "Ping Pong" 
            },
            "HD2_DL4DynamicDelayStereo": { 
                "type": "delay",
                "name": "Dynamic" 
            },
            "HD2_DL4StereoDelay": {
                "type": "delay", 
                "name": "Stereo" 
            },
            "HD2_DL4DigDelay": { 
                "type": "delay",
                "name": "Digital" 
            },
            "HD2_DL4DigDelayWithMod": { 
                "type": "delay", 
                "name": "Dig w/Mod"
            },
            "HD2_DL4Reverse": { 
                "type": "delay", 
                "name": "Reverse"
            },
            "HD2_DL4LowResDelay": {
                "type": "delay", 
                "name": "Lo Res"
            },
            "HD2_DL4TubeEchoStereo": { 
                "type": "delay", 
                "name": "Tube Echo" 
            },
            "HD2_DL4TapeEchoStereo": { 
                "type": "delay", 
                "name": "Tape Echo" 
            },
            "HD2_DL4SweepEchoStereo": {
                "type": "delay",
                "name": "Sweep Echo"
            },
            "HD2_DL4EchoPlatterStereo": { 
                "type": "delay", 
                "name": "Echo Platter"
            },
            "HD2_DL4AnalogDelayStereo": {
                "type": "delay",
                "name": "Analog Echo" 
            },
            "HD2_DL4AnalogDelayStereoMod": {
                "type": "delay", 
                "name": "Analog w/Mod" 
            },
            "HD2_DL4AutoVolStereo": { 
                "type": "delay", 
                "name": "Auto-Vol Echo"
            },
            "HD2_DL4MultiheadStereo": { 
                "type": "delay", 
                "name": "Multi-Head" 
            },
            
            /* Mod */
            
            "HD2_TremoloOpticalTrem": {
                "type": "mod",
                "name": "Optical Trem"
            },
            "HD2_ChorusTrinityChorus": {
                "type": "mod",
                "name": "Trinity Chorus"
            },
            "HD2_RotaryVibeRotary": {
                "type": "mod",
                "name": "Vibe Rotary"
            },
            "HD2_RingModulatorAMRingMod": {
                "type": "mod",
                "name": "AM Ring Mod"
            },
            "HD2_RingModulatorPitchRingMod": {
                "type": "mod",
                "name": "Pitch Ring Mod"
            },
            "HD2_DelayDoubleDouble": {
                "type": "mod",
                "name": "Double Take"
            },
            "HD2_Rotary145Rotary": {
                "type": "mod",
                "name": "145 Rotary"
            },
            "HD2_Rotary122Rotary": {
                "type": "mod",
                "name": "122 Rotary"
            },
            "HD2_Chorus70sChorus": {
                "type": "mod",
                "name": "70s Chorus"
            },
            "HD2_FlangerGrayFlanger": {
                "type": "mod",
                "name": "Gray Flanger"
            },
            "HD2_PhaserDeluxePhaser": {
                "type": "mod",
                "name": "Deluxe Phaser"
            },
            "HD2_Tremolo60sBiasTrem": {
                "type": "mod",
                "name": "60s Bias Trem"
            },
            "HD2_FlangerCourtesanFlange": {
                "type": "mod",
                "name": "Courtesan Flange"
            },
            "HD2_TremoloTremolo": {
                "type": "mod",
                "name": "Tremolo"
            },
            "HD2_Chorus": {
                "type": "mod",
                "name": "Chorus"
            },
            "HD2_VibratoBubbleVibrato": {
                "type": "mod",
                "name": "Bubble Vibrato"
            },
            "HD2_TremoloHarmonic": {
                "type": "mod",
                "name": "Harmonic Tremolo"
            },
            "HD2_ChorusPlastiChorus": {
                "type": "mod",
                "name": "PlastiChorus"
            },
            "HD2_TremoloPattern": {
                "type": "mod",
                "name": "Pattern Tremolo"
            },
            "HD2_FlangerHarmonicFlanger": {
                "type": "mod",
                "name": "Harmonic Flanger"
            },
            "HD2_PhaserScriptModPhase": {
                "type": "mod",
                "name": "Script Mod Phase"
            },
            "HD2_FlangerDynamixFlanger": {
                "type": "mod",
                "name": "Dynamix Flanger"
            },
            "HD2_PhaserUbiquitousVibe": {
                "type": "mod",
                "name": "Ubiquitous Vibe"
            },  
            
            "HD2_MM4RingModulator": {
                "type": "mod",
                "name": "Ring Modulator"
            },
            "HD2_MM4FrequencyShifter": {
                "type": "mod",
                "name": "Frequency Shifter"
            },
            "HD2_M1380AFlanger": {
                "type": "mod",
                "name": "80A Flanger"
            },
            "HD2_M13ACFlanger": {
                "type": "mod",
                "name": "AC Flanger"
            },
            "HD2_MM4RotaryDrumHorn": {
                "type": "mod",
                "name": "Rotary Drum/Horn"
            },
            "HD2_MM4RotaryDrum": {
                "type": "mod",
                "name": "RotaryDrum"
            },
            "HD2_MM4TriChorus": {
                "type": "mod",
                "name": "Tri Chorus"
            },
            "HD2_MM4UVibe": {
                "type": "mod",
                "name": "UVibe"
            },
            "HD2_MM4JetFlanger": {
                "type": "mod",
                "name": "Jet Flanger"
            },
            "HD2_MM4Panner": {
                "type": "mod",
                "name": "Panner"
            },
            "HD2_MM4PitchVibrato": {
                "type": "mod",
                "name": "Pitch Vibrato"
            },
            "HD2_MM4BiasTremolo": {
                "type": "mod",
                "name": "Bias Tremolo"
            },
            "HD2_MM4AnalogChorus": {
                "type": "mod",
                "name": "Analog Chorus"
            },
            "HD2_MM4DualPhaser": {
                "type": "mod",
                "name": "Dual Phaser"
            },
            "HD2_MM4OptoTremolo": {
                "type": "mod",
                "name": "Opto Tremolo"
            },
            "HD2_MM4AnalogFlanger": {
                "type": "mod",
                "name": "Analog Flanger"
            },
            "HD2_MM4ScriptPhase": {
                "type": "mod",
                "name": "Script Phase"
            },
            "HD2_MM4Phaser": {
                "type": "mod",
                "name": "Phaser"
            },
            "HD2_MM4PatternTrem": {
                "type": "mod",
                "name": "Pattern Trem"
            },
            "HD2_MM4PannedPhaser": {
                "type": "mod",
                "name": "Panned Phaser"
            },
            "HD2_MM4Dimension": {
                "type": "mod",
                "name": "Dimension"
            },
            "HD2_MM4BarberpolePhaser": {
                "type": "mod",
                "name": "Barberpole Phaser"
            },
            
            /* IR */
            
            "HD2_ImpulseResponse1024": {
                "type": "ir",
                "name": "IR 1024"
            },
            "HD2_ImpulseResponse2048": {
                "type": "ir",
                "name": "IR 2048" 
            },
            
            /* Cabs */
            
            "HD2_Cab4X12CaliV30": {
                "type": "cab",
                "name": "4X12 Cali V30"
            },
            "HD2_Cab4x12XXLV30": {
                "type": "cab",
                "name": "4x12 XXL V30"
            },

            /* Pitch */ 
            
            "HD2_PitchPitchWham": { 
                "type": "pitch", 
                "name": "Pitch Wham"
            },
            "HD2_PitchTwinHarmony": { 
                "type": "pitch", 
                "name": "Twin Harmony"
            },
            "HD2_PitchSimplePitch": { 
                "type": "pitch", "name": 
                "Simple Pitch"
            },
            "HD2_PitchDualPitch": {
                "type": "pitch", 
                "name": "Dual Pitch" 
            },
            "HD2_SynthSubtractive": { 
                "type": "pitch", 
                "name": "3 OSC Synth" 
            },
            "HD2_Synth3NoteGenerator": {
                "type": "pitch", 
                "name": "3 Note Generator"
            },
            "HD2_Synth4OSCGenerator": {
                "type": "pitch",
                "name": "4 OSC Generator" 
            },
            "HD2_DM4BassOctaver": { 
                "type": "pitch", 
                "name": "Bass Octaver" 
            },
            "HD2_M13TwoVoiceHarmony": { 
                "type": "pitch", 
                "name": "Smart Harmony"
            },
            "HD2_FM4OctiSynth": {
                "type": "pitch", 
                "name": "Octi Synth" 
            },
            "HD2_FM4SynthOMatic": {
                "type": "pitch", 
                "name": "Synth O Matic"
            },
            "HD2_FM4AttackSynth": {
                "type": "pitch", 
                "name": "Attack Synth"
            },
            "HD2_FM4SynthString": {
                "type": "pitch", 
                "name": "Synth String" 
            },
            "HD2_FM4Growler": {
                "type": "pitch", 
                "name": "Growler" 
            },
            
            /* Filter */
            
            "HD2_FilterMutantFilter": { 
                "type": "filter", 
                "name": "Mutant Filter" 
            },
            "HD2_FilterMysterFilter": {
                "type": "filter", 
                "name": "Mystery Filter" 
            },
            "HD2_FilterAutoFilter": {
                "type": "filter", 
                "name": "Autofilter"
            },
            "HD2_FM4VoiceBox": {
                "type": "filter", 
                "name": "Voice Box" 
            },
            "HD2_FM4VTron": { 
                "type": "filter", 
                "name": "V Tron" 
            },
            "HD2_FM4QFilter": { 
                "type": "filter", 
                "name": "Q Filter" 
            },
            "HD2_FM4Seeker": { 
                "type": "filter", 
                "name": "Seeker"
            },
            "HD2_FM4ObiWah": {
                "type": "filter", 
                "name": "Obi Wah" 
            },
            "HD2_FM4TronUp": { 
                "type": "filter", 
                "name": "Tron Up" 
            },
            "HD2_FM4TronDown": {
                "type": "filter", 
                "name": "Tron Down" 
            },
            "HD2_FM4Throbber": { 
                "type": "filter", 
                "name": "Throbber" 
            },
            "HD2_FM4SlowFilter": {
                "type": "filter", 
                "name": "Slow Filter"
            },
            "HD2_FM4SpinCycle": { 
                "type": "filter", 
                "name": "Spin Cycle"
            },
            "HD2_FM4CometTrails": {
                "type": "filter", 
                "name": "Comet Trails" 
            },
            
            /* Comp */
            
            "HD2_CompressorDeluxeComp": {
                "type": "comp",
                "name": "Deluxe Comp"
            },
            "HD2_CompressorRedSqueeze": {
                "type": "comp",
                "name": "Red Squeeze"
            },
            "HD2_CompressorKinkyComp": {
                "type": "comp",
                "name": "Kinky Comp"
            },
            "HD2_CompressorLAStudioComp": {
                "type": "comp",
                "name": "LA Studio Comp"
            },
            "HD2_Compressor3BandComp": {
                "type": "comp",
                "name": "3-Band Comp"
            },
            "HD2_GateNoiseGate": {
                "type": "comp",
                "name": "Noise Gate"
            },
            "HD2_GateHardGate": {
                "type": "comp",
                "name": "Hard Gate"
            },
            "HD2_CompressorAutoSwell": {
                "type": "comp",
                "name": "Autoswell"
            },
            "HD2_DM4TubeComp": {
                "type": "comp",
                "name": "Tube Comp"
            },
            "HD2_DM4RedComp": {
                "type": "comp",
                "name": "Red Comp"
            },
            "HD2_DM4BlueComp": {
                "type": "comp",
                "name": "Blue Comp"
            },
            "HD2_DM4BlueCompTreb": {
                "type": "comp",
                "name": "Blue Comp Treb"
            },
            "HD2_DM4VettaComp": {
                "type": "comp",
                "name": "Vetta Comp"
            },
            "HD2_DM4VettaJuice": {
                "type": "comp",
                "name": "Vetta Juice"
            },
            "HD2_DM4BoostComp": {
                "type": "comp",
                "name": "Boost Comp"
            },
    
            /* Vol-Pan */

            "HD2_VolPanVol": {
                "type": "vol-pan",
                "name": "Volume" 
            },
            "HD2_VolPanGain": { 
                "type": "vol-pan", 
                "name": "Gain" 
            },
            "HD2_VolPanPan": {
                "type": "vol-pan",
                "name": "Pan" 
            },
            "HD2_VolPanStereoWidth": {
                "type": "vol-pan", 
                "name": "Stereo Width"
            },
            
            /* Looper */

            "HD2_Looper": { 
                "type": "looper", 
                "name": "6 Switch Looper" 
            },
            "HD2_LooperOneSwitch": { 
                "type": "looper",
                "name": "1 Switch Looper" 
            },
            
            /* Send-Return */

            "HD2_SendMono1": { 
                "type": "send-return", 
                "name": "Send 1" 
            },
            "HD2_SendMono2": { 
                "type": "send-return", 
                "name": "Send 2"
            },
            "HD2_SendMono3": { 
                "type": "send-return", 
                "name": "Send 3"
            },
            "HD2_SendMono4": {
                "type": "send-return",
                "name": "Send 4"
            },
            "HD2_ReturnMono1": {
                "type": "send-return", 
                "name": "Return 1"
            },
            "HD2_ReturnMono2": {
                "type": "send-return",
                "name": "Return 2" 
            },
            "HD2_ReturnMono3": { 
                "type": "send-return",
                "name": "Return 3" 
            },
            "HD2_ReturnMono4": { 
                "type": "send-return",
                "name": "Return 4" 
            },
            "HD2_FXLoopMono1": {
                "type": "send-return",
                "name": "FX Loop 1" 
            },
            "HD2_FXLoopMono2": {
                "type": "send-return", 
                "name": "FX Loop 2"
            },
            "HD2_FXLoopMono3": {
                "type": "send-return",
                "name": "FX Loop 3"
            },
            "HD2_FXLoopMono4": { 
                "type": "send-return", 
                "name": "FX Loop 4"
            },
            "HD2_SendStereo1_2": {
                "type": "send-return", 
                "name": "Send 1/2" 
            },
            "HD2_SendStereo3_4": {
                "type": "send-return",
                "name": "Send 3/4"
            },
            "HD2_ReturnStereo1_2": { 
                "type": "send-return", 
                "name": "Return 1/2" 
            },
            "HD2_ReturnStereo3_4": { 
                "type": "send-return",
                "name": "Return 3/4" 
            },
            "HD2_FXLoopStereo1_2": {
                "type": "send-return",
                "name": "FX Loop 1/2" 
            },
            "HD2_FXLoopStereo3_4": {
                "type": "send-return",
                "name": "FX Loop 3/4"
            },
            
            /* Reverb */
            
            "HD2_ReverbGlitz": { 
                "type": "reverb",
                "name": "Glitz" 
            },
            "HD2_ReverbGanymede": { 
                "type": "reverb",
                "name": "Ganymede" 
            },
            "HD2_ReverbSearchlights": {
                "type": "reverb", 
                "name": "Searchlights" 
            },
            "HD2_ReverbPlateaux": {
                "type": "reverb", 
                "name": "Plateaux" 
            },
            "HD2_ReverbDoubleTank": { 
                "type": "reverb",
                "name": "Double Tank"
            },
            "HD2_ReverbPlate": { 
                "type": "reverb", 
                "name": "Plate" 
            },
            "HD2_ReverbRoom": {
                "type": "reverb", 
                "name": "Room"
            },
            "HD2_ReverbChamber": {
                "type": "reverb",
                "name": "Chamber" 
            },
            "HD2_ReverbHall": { 
                "type": "reverb", 
                "name": "Hall" 
            },
            "HD2_ReverbEcho": { 
                "type": "reverb", 
                "name": "Echo" 
            },
            "HD2_ReverbTile": { 
                "type": "reverb", 
                "name": "Tile" 
            },
            "HD2_ReverbCave": {
                "type": "reverb", 
                "name": "Cave" 
            },
            "HD2_ReverbDucking": { 
                "type": "reverb", 
                "name": "Ducking"
            },
            "HD2_ReverbOcto": { 
                "type": "reverb",
                "name": "Octo"
            },
            "HD2_Reverb63Spring": {
                "type": "reverb", 
                "name": "'63 Spring" 
            },
            "HD2_ReverbSpring": { 
                "type": "reverb", 
                "name": "Spring"
            },
            "HD2_ReverbParticle": { 
                "type": "reverb",
                "name": "Particle Verb" 
            },
            
            /* Wah */
            
            "HD2_WahUKWah846": { 
                "type": "wah", 
                "name": "UK Wah 846" 
            },
            "HD2_WahTeardrop310": {
                "type": "wah",
                "name": "Teardrop 310"
            },
            "HD2_WahFassel": {
                "type": "wah", 
                "name": "Fassel"
            },
            "HD2_WahWeeper": {
                "type": "wah", 
                "name": "Weeper" 
            },
            "HD2_WahChrome": {
                "type": "wah", 
                "name": "Chrome"
            },
            "HD2_WahChromeCustom": { 
                "type": "wah", 
                "name": "Chrome Custom"
            },
            "HD2_WahThroaty": {
                "type": "wah", 
                "name": "Throaty" 
            },
            "HD2_WahVettaWah": {
                "type": "wah", 
                "name": "Vetta Wah"
            },
            "HD2_WahColorful": {
                "type": "wah", 
                "name": "Colorful" 
            },
            "HD2_WahConductor": {
                "type": "wah", 
                "name": "Conductor" 
            }
        };
        
        var hxLabels = {
		"@bypassvolume": "Bypass Volume",
		"@cab": "Cab",
		"@enabled": "Enabled",
		"@model": "Model",
		"@path": "Path",
		"@position": "Position",
		"@stereo": "Stereo",
		"@trails": "Trails",
		"@type": "Type",
		"Asym": "Asym",
		"Attack": "Attack",
		"Auto": "Auto",
		"Balance": "Balance",
		"Bass": "Bass",
		"Bias": "Bias",
		"BiasX": "Bias X",
		"BitDepth": "Bit Depth",
		"Blend": "Blend",
		"Boost": "Boost",
		"Bright": "Bright",
		"C45": "C45",
		"Cents1": "Cents 1",
		"Cents2": "Cents 2",
		"ChVol": "Channel Volume",
		"Clipping": "Clipping",
		"CloseThreshold": "Close Threshold",
		"Compress": "Compress",
		"Condition": "Condition",
		"Decay": "Decay",
		"Delay": "Delay",
		"Depth": "Depth",
		"Direction": "Direction",
		"Distortion": "Distortion",
		"Drive": "Drive",
		"Ducking": "Ducking",
		"DryLevel": "Dry Level",
		"DryPan": "Dry Pan",
		"DryThru": "Dry Thru",
		"DutyVoice1": "Duty Voice 1",
		"DutyVoice2": "Duty Voice 2",
		"DutyVoice3": "Duty Voice 3",
		"End": "End",
		"FM Voice3to1": "FM Voice 3 to 1",
		"Fat": "Fat",
		"FcHigh": "Fc High",
		"FcLow": "Fc Low",
		"Feedback": "Feedback",
		"Filter": "Filter",
		"FilterGain": "FilterGain",
		"FilterQ": "FilterQ",
		"Focus": "Focus",
		"Freq": "Freq",
		"FreqDepth": "Freq Depth",
		"Frequency": "Frequency",
		"Fuzz": "Fuzz",
		"FuzzGain": "Fuzz Gain",
		"FuzzLevel": "FuzzLevel",
		"FuzzOct": "Fuzz Oct",
		"FuzzTone": "Fuzz Tone",
		"FuzzType": "Fuzz Type",
		"Gain": "Gain",
		"Gate": "Gate",
		"Grit": "Grit",
		"Grunt": "Grunt",
		"HBE": "HBE",
		"Headroom": "Headroom",
		"Heads 1-2": "Heads 1-2",
		"Heads 3-4": "Heads 3-4",
		"Heel": "Heel",
		"HiMid": "Hi Mid",
		"HiMidFreq": "Hi Mid Freq",
		"HighCut": "High Cut",
		"highCut": "High Cut",
		"HoldTime": "Hold Time",
		"Index": "Index",
		"Intensity": "Intensity",
		"Interval1": "Interval 1",
		"Interval2": "Interval 2",
		"IntervalVoice1": "Interval Voice 1",
		"IntervalVoice2": "Interval Voice 2",
		"Key": "Key",
		"KeyVoice1": "Key Voice 1",
		"KeyVoice2": "Key Voice 2",
		"LPHP": "LPHP",
		"LR In Swap": "LR In Swap",
		"Level": "Level",
		"LevelVoice1": "Level Voice 1",
		"LevelVoice2": "Level Voice 2",
		"LevelVoice3": "Level Voice 3",
		"LFeedback": "Left Feedback",
		"LoMid": "Lo Mid",
		"LoMidFreq": "Lo Mid Freq",
		"LowCut": "Low Cut",
		"LTime": "Left Time",
		"Master": "Master",
		"Mid": "Mid",
		"Mix": "Mix",
		"Mod Mix": "Mod Mix",
		"ModSpeed": "Mod Speed",
		"Mode": "Mode",
		"Modulation": "Modulation",
		"Noise": "Noise",
		"Normal": "Normal",
		"Notch Freq": "Notch Freq",
		"Notch Gain": "Notch Gain",
		"ODGain": "OD Gain",
		"ODLevel": "OD Level",
		"ODLowBoost": "OD Low Boost",
		"ODTone": "OD Tone",
		"Octave": "Octave",
		"OctaveVoice1": "Octave Voice 1",
		"OctaveVoice2": "Octave Voice 2",
		"OctaveVoice3": "Octave Voice 3",
		"Offset": "Offset",
		"OpenThreshold": "Open Threshold",
		"Osc1Freq": "OSC Frequency 1",
		"Osc1Glide": "OSC Glide 1",
		"Osc1Level": "OSC Level 1",
		"Osc1Note": "OSC Note 1",
		"Osc1Octave": "OSC Octave 1",
		"Osc1Pan": "OSC Pan 1",
		"Osc1Shape": "OSC Shape 1",
		"Osc2Freq": "OSC Frequency 2",
		"Osc2Glide": "OSC Glide 2",
		"Osc2Level": "OSC Level 2",
		"Osc2Note": "OSC Note 2",
		"Osc2Octave": "OSC Octave 2",
		"Osc2Pan": "OSC Pan 2",
		"Osc2Shape": "OSC Shape 2",
		"Osc3Freq": "OSC Frequency 3",
		"Osc3Glide": "OSC Glide 3",
		"Osc3Level": "OSC Level 3",
		"Osc3Note": "OSC Note 3",
		"Osc3Octave": "OSC Octave 3",
		"Osc3Pan": "OSC Pan 3",
		"Osc3Shape": "OSC Shape 3",
		"Osc4Freq": "OSC Frequency 4",
		"Osc4Level": "OSC Level 4",
		"Osc4Pan": "OSC Pan 4",
		"Osc4Shape": "OSC Shape 4",
		"Oscillator": "Oscillator",
		"Output": "Output",
		"Overdub": "Overdub",
		"Pan": "Pan",
		"PanDry": "Pan Dry",
		"PanVoice1": "Pan Voice 1",
		"PanVoice2": "Pan Voice 2",
		"PanVoice3": "Pan Voice 3",
		"Peak": "Peak",
		"Pedal": "Pedal",
		"Pitch": "Pitch",
		"Pitch2": "Pitch 2",
		"PitchMix": "Pitch Mix",
		"PitchVoice1": "Pitch Voice 1",
		"PitchVoice2": "Pitch Voice 2",
		"PitchVoice3": "Pitch Voice 3",
		"Playback": "Playback",
		"Predelay": "Pre-Delay",
		"Presence": "Presence",
		"PullDiode": "Pull Diode",
		"PushDiode": "Push Diode",
		"Q": "Q",
		"R Polarity": "R Polarity",
		"Range": "Range",
		"Rate": "Rate",
		"RealTimeSwitch": "Real Time Switch",
		"Release": "Release",
		"Res": "Res",
		"Resonance": "Resonance",
		"Return": "Return",
		"RFeedback": "Right Feedback",
		"Ripple": "Ripple",
		"RTime": "Right Time",
		"SSwitch": "SSwitch",
		"Sag": "Sag",
		"SampleRate": "Samplerate",
		"Saturation": "Saturation",
		"Scale": "Scale",
		"ScaleVoice1": "Scale Voice 1",
		"ScaleVoice2": "Scale Voice 2",
		"Send": "Send",
		"Sens": "Sensitivity",
		"Sensitivity": "Sensitivity",
		"ShapeVoice1": "Shape Voice 1",
		"ShapeVoice2": "Shape Voice 2",
		"ShapeVoice3": "Shape Voice 3",
		"Shift": "Shift",
		"Space": "Space",
		"Speed": "Speed",
		"Spread": "Spread",
		"Stability": "Stability",
		"Start": "Start",
		"Steps": "Steps",
		"Sub": "Sub",
		"Sustain": "Sustain",
		"Swell": "Swell"
		"SyncSelect1": "Sync Select 1",
		"SyncSelect2": "Sync Select 2",
		"SynthPreset": "Synth Preset",
		"TempoSync1": "Tempo Sync 1",
		"TempoSync2": "Tempo Sync 2",
		"Thick": "Thick",
		"Threshold": "Threshold",
		"Time": "Time",
		"Time1": "Time 1",
		"Time2": "Time 2",
		"Toe": "Toe",
		"Tone": "Tone",
		"Treble": "Treble",
		"Type": "Type",
		"Version": "Version",
		"Voice": "Voice",
		"Vol Sens": "Volume Sensitivity",
		"VolumeTaper": "Volume Taper",
		"Wave": "Wave",
		"Width": "Width",
		"Wow Flt": "Wow Flt",
		"Xover": "Crossover"
        };
        
        Vue.component('block', {
            data: function() {
                return {
                    isActive: 0
                }
            },
            props: ['type', 'id', 'currentBlock'],
            template: '#block',
            methods: {
                displayParameters: function (id) {
                    /* remove active from all blocks, probably can be improved */
                    for (i = 0; i < vm.$children.length; i++) {
                        vm.$children[i].isActive = 0;
                    }
                    /* display parameter table */
                    vm.currentBlock = id;
                    /* set block to active */
                    this.isActive = 1;
                }
            }
        });
        
        Vue.component('parameters', {
            data: function() {
                return {
                    preset: hxPreset
                }
            },
            props: ['block'],
            template: '#parameters'
        });
        
        Vue.component('icon-dist', {
            template: '<i class="fas fa-signature"></i>'
        })
        
        Vue.component('icon-comp', {
            template: '<i class="fas fa-slash"></i>'
        })
        
        Vue.component('icon-eq', {
            template: '<i class="fas fa-sliders-h"></i>'
        })
        
        Vue.component('icon-mod', {
            template: '<i class="fas fa-adjust"></i>'
        })
        
        Vue.component('icon-delay', {
            template: '<i class="far fa-clone"></i>'
        })
        
        Vue.component('icon-reverb', {
            template: '<i class="fas fa-cube"></i>'
        })
        
        Vue.component('icon-pitch', {
            template: '<i class="fab fa-itunes-note"></i>'
        })
        
        Vue.component('icon-filter', {
            template: '<i class="fas fa-layer-group"></i>'
        })
        
        Vue.component('icon-wah', {
            template: '<i class="fas fa-shoe-prints"></i>'
        })
        
        Vue.component('icon-amp-cab', {
            template: '<i class="fas fa-hdd"></i>'
        })
        
        Vue.component('icon-amp', {
            template: '<i class="fas fa-hdd"></i>'
        })
        
        Vue.component('icon-preamp', {
            template: '<i class="fas fa-hdd"></i>'
        })
        
        Vue.component('icon-cab', {
            template: '<i class="fas fa-volume-off"></i>'
        })
        
        Vue.component('icon-ir', {
            template: '<i class="fas fa-volume-down"></i>'
        })
        
        Vue.component('icon-vol-pan', {
            template: '<i class="fas fa-signal"></i>'
        })
        
        Vue.component('icon-send-return', {
            template: '<i class="fas fa-exchange-alt"></i>'
        })
        
        Vue.component('icon-looper', {
            template: '<i class="fas fa-sync"></i>'
        })
        
        Vue.filter('getModel', function (value, prop) {
            if (!value) return '';
            value = value.toString();
            if (typeof hxModels[value] !== "undefined") {
                return hxModels[value][prop];
            }  else {
                return "*";
            }
        });
        
        Vue.filter('getLabel', function (value) {
            if (!value) return '';
            value = value.toString();
            if (typeof hxLabels[value] !== "undefined") {
                return hxLabels[value];
            }  else {
                return value + "*";
            }
        });
        
        var vm = new Vue({
            el: '#app',
            data: {
                preset: hxPreset,
                models: hxModels,
                currentBlock: hxPreset.data.tone.dsp0.block0
            },
            methods: {
                displayParameters() {
                    this.currentBlock = hxPreset.data.tone.dsp0.block1;
                },
                /* file upload based on help from https://codepen.io/Atinux/pen/qOvawK & https://stackoverflow.com/questions/14740927/using-html-5-file-api-to-load-a-json-file */
                onFileChange(e) { 
                    var files = e.target.files || e.dataTransfer.files;
                        if (!files.length)
                            return;
                        this.loadPreset(files[0]);
                },
                loadPreset(file) {
                      var preset = null;
                      var reader = new FileReader();
                      var vm = this;

                      reader.onload = (e) => {
                        preset = JSON.parse(e.target.result);
                        console.log(preset);
                        vm.preset = preset;
                      };
                      reader.readAsText(file);
                },
                removeImage: function (e) {
                    this.image = '';
                }
            }
        });
    </script>
</body>

</html>
